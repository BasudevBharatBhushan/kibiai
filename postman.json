{
  "info": {
    "_postman_id": "31415926-2718-2818-b3-license-api",
    "name": "FileMaker Licensing API - B3",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "BASE_URL", "value": "http://localhost:3000" },
    { "key": "ADMIN_TOKEN", "value": "" },
    { "key": "BASIC_AUTH", "value": "" }
  ],
  "item": [
    {
      "name": "üîê Create Company (Bearer)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{ADMIN_TOKEN}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/company",
          "host": ["{{BASE_URL}}"],
          "path": ["api", "company"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"companyId\": \"COMP-001\",\n  \"companyAuthId\": \"acme@example.com\",\n  \"compayPassword\": \"secret123\"\n}"
        }
      }
    },
    {
      "name": "‚úèÔ∏è Update Company (Bearer)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{ADMIN_TOKEN}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/company",
          "host": ["{{BASE_URL}}"],
          "path": ["api", "company"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"companyId\": \"COMP-001\",\n  \"companyAuthId\": \"acme-updated@example.com\"\n}"
        }
      }
    },
    {
      "name": "üÜï Create License (Bearer)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{ADMIN_TOKEN}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/license",
          "host": ["{{BASE_URL}}"],
          "path": ["api", "license"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"companyId\": \"COMP-001\",\n  \"plan\": \"Pro\",\n  \"users\": \"10\",\n  \"workspaces\": \"3\",\n  \"reports\": \"10\",\n  \"charts\": \"Unlimited\",\n  \"AI_Features\": \"Enabled\",\n  \"licensingTerms\": \"Annual\",\n  \"support\": \"Priority\",\n  \"isActive\": 1,\n  \"expiryDate\": \"01/01/2027\"\n}"
        }
      }
    },
    {
      "name": "‚úèÔ∏è Update License (Bearer)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{ADMIN_TOKEN}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/license",
          "host": ["{{BASE_URL}}"],
          "path": ["api", "license"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"licenseId\": \"REPLACE_LICENSE_ID_AFTER_CREATE\",\n  \"companyId\": \"COMP-001\",\n  \"plan\": \"Enterprise\",\n  \"users\": \"50\",\n  \"expiryDate\": \"12/31/2028\"\n}"
        }
      }
    },
    {
      "name": "üìå Fetch License (Basic Auth)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Basic {{BASIC_AUTH}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/license/fetch",
          "host": ["{{BASE_URL}}"],
          "path": ["api", "license", "fetch"]
        },
        "body": { "mode": "raw", "raw": "{}" }
      }
    }
  ]
}
